<div ng-joy-ride="scheduleJoyride" config="joyrideConfig" on-finish="onFinish()"  on-skip="onSkip()"></div>

<!-- MAIN SECTION -->
<section class="page-section background-image">
<div class="container relative">
        
  <!-- Row -->
  <div class="row">
            
    <!-- Col -->       
    <div class="col-sm-7 mb-xs-40">
      <h1><i class="fa fa-volume-up "></i>&nbsp; NOW PLAYING</h1>
      
      <dl class="accordion">
      <dt class="current" id="mySchedule-now-playing">
        <span class="artist-name"><i class="fa fa-music fa-sm"></i> {{player.nowPlaying._audioBlock.artist}} / {{player.nowPlaying._audioBlock.title}}</span>
          <progressbar class="artist-spacer" type="dynamic" animate="false" value="songPercentComplete"></progressbar>
          <div class="pad3t"><div class="player-lft-time">{{nowPlayingElapsedString}}</div>
          <div class="player-rt-time">-{{nowPlayingRemainingString}}</div>
          </div>
                                       
        </dt>
      </dl>
      <ul id="station-list">
        <div  ui-sortable="playlistOptions" class="stationList" ng-model="playlist">
          <div  class="outerDragGroup" ng-repeat="spin in playlist track by spin._id">
            <div class="dragGroup">

              <dl class="accordion" >
                <dt class="musicbox song" ng-show="(spin._audioBlock._type === 'Song')">
                  <span class="next-artist-name"><i class="fa fa-music fa-sm"></i> {{ spin._audioBlock.artist }} / {{ spin._audioBlock.title }}</span>
                  <span class="timestamp-container">{{ formatTime(spin.airtime) }}</span> 
                  <div class="close-icon" title="delete" ng-click="removeSpin(spin, $index);" ng-show="removable(spin, $index);"><i class="fa fa-times"></i></div>
                </dt>
              </dl>

              <dl class="accordion" >
                <dt class="musicbox_playing commentary" ng-show="(spin._audioBlock._type==='Commentary')">
                  <span class="next-artist-name"><i class="fa fa-play fa-sm active"  ng-click="previewCommentary($index)"></i> Commentary</span>
                  <span class="timestamp-container">{{ formatTime(spin.airtime) }}</span>
                  <div class="close-icon close-icon-hover" title="delete" ng-click="removeSpin(spin, $index);" ng-show="removable(spin, $index);"><i class="fa fa-times"></i></div>
                </dt>
              </dl>
            
              <dl class="accordion" >
                <dt class="commercials" ng-show="(spin._audioBlock._type === 'CommercialBlock')">
                  <span class="next-artist-name"><i class="fa fa-dot-circle-o fa-sm"></i> Commercial</span>
                  <span class="commerical-timestamp">{{ formatTime(spin.airtime) }}</span>
                </dt>
              </dl>

            </div>
            <dl class="accordion" >
              <dt class="commercials" ng-show="spin.commercialsFollow && !spin.beingDragged">
                <span class="next-artist-name"><i class="fa fa-dot-circle-o fa-sm"></i> Commercial</span>
                <span class="commerical-timestamp">{{ formatTime(spin.airtime) }}</span>
              </dt>
            </dl>
          </div>
        </div>
      </ul>
    </dl>
  </div>
            
  <!-- End Col -->  
  
  <!-- Col -->
            
  <div class="col-sm-5 mb-xs-40">
    <h1><i class="fa fa-headphones "></i>&nbsp; YOUR SONGS</h1>
    <div class="col-sm-8 col-sm-offset-2 weird-bootstrap-fix">

    <tabset id="catalogAndRecordPanel" justified="true">
      <tab active="activeTab.catalogSearch" id="catalogSearchTab">
        <tab-heading class="tab-pane fade in" ng-class="{ active: activeTab.catalogSearch }" id="one">
          <i class="fa fa-plus"></i>&nbsp; ADD SONGS
        </tab-heading>

        <dl class="accordion">
          <dt class="current">
            <div class="mb-20 mb-md-10">

              <input type="text" name="search" id="name-4" class="form-control input-lg" maxlength="100" placeholder="Enter Title and/or Artist Here" ng-model="$root.searchText" ng-model-options="{ debounce: 500 }" ng-change="findSongs($root.searchText)">
            </div>
          </dt>
                
          <form><input class="song-search" type="checkbox"></form>
          
          <div class="my-songs-only color-fix">only my songs</div> 
          <div class="clearfix"></div>
        </dl>

        <dl class="accordion" id="catalog-list" ui-sortable="catalogList" ng-model="catalogSearchResults">
          <dt class="music_content" ng-repeat="song in catalogSearchResults" >
            <span class="my-songs-list">{{ song.artist }}/ {{ song.title }}</span>
          </dt>  
        </dl>
      </tab>

      <tab id="recordTab" class="tab-pane fade in color-fix" active="activeTab.record">
        <tab-heading class="tab-pane fade in color-fix" id="two">
          <i class="fa fa-microphone"></i>&nbsp; RECORD
        </tab-heading>

        <div>
          <div> <!-- extra container for tab/sortable-ui interaction  -->
            <div ng-include="'components/audioRecorder/audioRecorder.html'" ></div>
          </div>
        </div>
      </tab>

      <tab id="uploadTab" active="activeTab.upload">
        <tab-heading ng-class="{ active: activeTab.upload }">
          <i class="fa fa-upload"></i>&nbsp; UPLOAD
        </tab-heading>

        <div> 
          <div> <!-- extra container for tab/sortable-ui interaction  -->
            <div ng-include="'components/uploader/uploader.html'"></div>
          </div>             
        </div>
      </tab>
    </tabset>
            
                        
  <!-- End Toggle -->
  </div>
<!-- End Col -->                                     
</div>
